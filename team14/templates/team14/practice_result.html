<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†ØªÛŒØ¬Ù‡ ØªÙ…Ø±ÛŒÙ†</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: #f0f4ff;
            padding: 40px;
        }

        .container {
            max-width: 1100px;
            margin: auto;
        }

        .card {
            background: #fff;
            padding: 30px;
            border-radius: 18px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            margin-bottom: 25px;
        }

        .score {
            font-size: 28px;
            font-weight: 800;
            color: #2d3748;
            text-align: center;
        }

        .score span {
            color: #48bb78;
        }

        .answer-row {
            display: grid;
            grid-template-columns: 60px 1fr 1fr 1fr;
            gap: 15px;
            padding: 14px;
            border-bottom: 1px solid #edf2f7;
            align-items: center;
        }

        .answer-row.correct {
            background: #f0fff4;
        }

        .answer-row.wrong {
            background: #fff5f5;
        }

        .badge {
            padding: 6px 14px;
            border-radius: 14px;
            font-weight: 700;
            font-size: 13px;
            color: #fff;
            text-align: center;
        }

        .badge.correct {
            background: #48bb78;
        }

        .badge.wrong {
            background: #e53e3e;
        }

        .btn-back {
            display: inline-block;
            margin-top: 20px;
            padding: 14px 30px;
            border-radius: 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s;
        }

        .btn-back:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
    </style>
</head>

<body>
<div class="container">

    <!-- Score Summary -->
    <div class="card">
        <div class="score">
            âœ… Ø´Ù…Ø§ <span>{{ correct_count }}</span> Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ Ø§Ø²
            <span>{{ total_questions }}</span> Ø³Ø¤Ø§Ù„ Ø¯Ø§Ø´ØªÛŒØ¯
        </div>
        {% if is_exam %}
        <div class="exam-score-box">
            <div class="exam-score-title">
                ğŸ¯ Ù†ØªÛŒØ¬Ù‡
            </div>
            <div class="exam-score-value">
                {{ exam_percent }}%
            </div>
            <div class="exam-score-sub">
                Ø¯Ø±ØµØ¯ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ ØµØ­ÛŒØ­
            </div>
        </div>
        {% endif %}
    </div>

    <!-- Answer Sheet -->
    <div class="card">
        <h3>ğŸ“˜ Ù¾Ø§Ø³Ø®Ù†Ø§Ù…Ù‡</h3>

        {% for r in results %}
        <div class="answer-row {% if r.is_correct %}correct{% else %}wrong{% endif %}">
            <div>{{ forloop.counter }}</div>
            <div>âœ… Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª: {{ r.correct_option }}</div>
            <div>ğŸ‘¤ Ù¾Ø§Ø³Ø® Ø´Ù…Ø§: {{ r.user_option }}</div>
            <div>
                <span class="badge {% if r.is_correct %}correct{% else %}wrong{% endif %}">
                    {% if r.is_correct %}Ø¯Ø±Ø³Øª{% else %}Ù†Ø§Ø¯Ø±Ø³Øª{% endif %}
                </span>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Back Button -->
    <div class="card" style="text-align:center">
        <a href="{% url 'base' %}" class="btn-back">
            Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø±ÛŒØ¯ÛŒÙ†Ú¯
        </a>
    </div>

</div>
</body>
</html>
